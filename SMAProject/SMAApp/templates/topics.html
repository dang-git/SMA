{% load staticfiles %}  {% load nvd3_tags %}
<!DOCTYPE html>
<html>
<title>Topics - TWITTER SEARCH</title>

<head>
	<link rel="stylesheet" type="text/css" href="{% static 'bootstrap/css/bootstrap.css' %}">
	<link href="{% static 'css/stldg.css' %}" rel='stylesheet' type='text/css'>
	
	<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
	<script src="{% static 'js/smaapp-utils.js' %}" type='text/javascript'></script>
	<script src="{% static 'bootstrap/js/bootstrap.js' %}"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
	<!-- <script async src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script> -->
	<script async src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js"></script>
	
	<script async src="{% static 'js/diagnostics.js' %}" type='text/javascript'></script>

	<script>
		// lda data to be used by the lda page
		 var lda_data = window.sessionStorage['lda_data'];
		// data used by top hashtags, "|safe" is used to prevent HTML Escaping ex: ' into &#39; 
		 var data_multibarhorizontalchart_container = {{tophashtagsdata|safe}};


	// var lda_data = JSON.parse(test.replace(/&quot;/g,'"'));
	</script>
</head>

<body id="topicsBody">
	<div>
		{% include 'loadingpage.html' %}
		{% include 'header.html'%}
		{% include 'sidebar.html'%}
		{% include 'messages.html'%}
		<div class="row">
			<div id="content" class="col-lg-12 col-xs-12">
				<div class="main">
					<div class="topic-main-container cloud-topic-container">
						<div class="topic-title">WORDCLOUD</div>
						<div id="wordcloudImageContainer">
							<!-- <img id="wordcloudImage" class="wordcloud-image"/> -->
							<p id="imagePlaceholder">Loading Wordcloud Image <img id="miniLoading" src="{% static 'images/mini-loading.gif' %}" height="25"></p>
							<img src="data:img/png;base64,{{wc_image}}" id="wordcloudImage" class="wordcloud-image" /> 
							{# with 'images/wordcloud/wordcloud-'|add:sessionid|add:'.png' as wordcloud_image #}
							<!-- <img src="{% static wordcloud_image %}" class="wordcloud-image"/> -->
							{# endwith #}
							<div id="uploadImageContainer">
								<form id="uploadwcMaskForm">
									{% csrf_token %}
									<input type="file" name="wc_mask" id="uploadwcMask" accept="image/x-png,image/gif,image/jpeg" />
									<input type="submit" id="uploadwcMaskButton" name="uploadwcMaskButton" />
								</form>
							</div>
							<div class="search-insight-container">
								<input type="text" id="wordcloudInsight" placeholder="Type insights here" class="search-insights-input">
							</div>
							<!-- <div id='wordcloud'></div>
								<script>
								d3.wordcloud()
									.size([800, 400])
									.selector('#wordcloud')
									.words([{text: 'word', size: 5}, {text: 'cloud', size: 15}])
									.start();
								</script> -->
						</div>
						<div class="top-hashtag-container">
							<div class="topic-title">TOP HASHTAGS</div>
							<svg id="hashtagChart"></svg>
							<div class="search-insight-container">
								<input type="text" id="topHastagsInsight" placeholder="Type insights here" class="search-insights-input">
							</div>
						</div>
		
		
					</div>
					<div class="lda">
						<div class="topic-title">TOPICS</div>
						<div id="ldaContainer">
							<!-- <div class="lda-topic-count">
								<label for="ldavis_el84844464070221763284634421-topic-count" style="font-family: sans-serif; font-size: 14px">
									Topic Count:
									span id="ldavis_el84844464070221763284634421-topic-value">
									</span
								</label>
								<input style="width: 50px" type="text" min="0" max="4" step="1" id="ldavisTopicCount">
								<button id="submitTopicCount" style="margin-left: 5px"> Set Topic </button>
							</div> -->
							<!-- to test lda.html, only remove the 3 lines and replace with {# include 'lda/lda.html' #}  -->
							<div id="ldaPlaceholder">
								<p>Loading Topic Clusters Please wait...
									<img id="miniLoading" src="{% static 'images/mini-loading.gif' %}" height="25">
								</p>
							</div>
							<div id="ldaPage"></div>
							{# include 'lda.html' #} {# with 'lda-'|add:sessionid|add:'.html' as lda_page #} {# include 'lda/'|add:lda_page #} {# endwith #}
							<div class="search-insight-container">
								<input type="text" id="topic1Insight" placeholder="Type insights here for topic 1" class="search-insights-input">
							</div>
							<div class="search-insight-container">
								<input type="text" id="topic2Insight" placeholder="Type insights here for topic 2" class="search-insights-input">
							</div>
							<div class="search-insight-container">
								<input type="text" id="topic3Insight" placeholder="Type insights here for topic 3" class="search-insights-input">
							</div>
							<div class="search-insight-container">
								<input type="text" id="topic4Insight" placeholder="Type insights here for topic 4" class="search-insights-input">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
<!-- Modals -->
{% include 'saveloadsnapshotmodal.html' %}
{% include 'loginmodal.html' %}
{% include 'notification.html' %}
{% include 'footer.html'%}
</body>
<script src="{% static 'js/tophashtagsbarchart.js' %}" type='text/javascript'></script>
<script src="{% static 'js/dgn1.js' %}" type='text/javascript'></script>
<script src="{% static 'js/ldaSize.js' %}" type='text/javascript'></script>
</html>