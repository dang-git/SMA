{% load staticfiles %} {% load nvd3_tags %}
<!DOCTYPE html>
<html>
<title>Diagnostics - TWITTER SEARCH</title>

<head>
	<link rel="stylesheet" type="text/css" href="{% static 'bootstrap/css/bootstrap.css' %}">
	<link href="{% static 'css/stldg.css' %}" rel='stylesheet' type='text/css'>
	<!-- <script src="{% static 'js/markerclusterer.js' %}" type='text/javascript'></script> -->
	<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Raleway" />
	<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
	<script src="{% static 'js/smaapp-utils.js' %}"></script>
	<script src="{% static 'bootstrap/js/bootstrap.js' %}"></script>
	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDVQ56jnIuK_Tj3bhVXLdaUk9aVkLi0GeY"></script>
	<script>
		// Load insights from backend.
	{% for key, values in insight.items %}
			window.sessionStorage['{{values.insight_container}}'] = '{{values.insight_value}}'
	{% endfor %}

		var isSnapshot = "{{isSnapshot}}";

	if(isSnapshot == 'true' && isSnapshot != "") {
		window.sessionStorage['isSnapshot'] = isSnapshot;
		window.sessionStorage['search_keyword'] = "{{search_keyword}}";
	}
	</script>
	<script async src="{% static 'js/diagnostics.js' %}" type='text/javascript'></script>
	<script src="{% static 'js/gmaps.js' %}" type='text/javascript'></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.6/nv.d3.min.css" type="text/css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.6/nv.d3.min.js" type="text/css" rel="stylesheet">
</head>

<body>
	<div>
		{% include 'loadingpage.html' %}
		{% include 'header.html'%}
		{% include 'sidebar.html'%}
		{# include 'messages.html'#}
		<div class="row">
			<div id="content" class="col-lg-12 col-xs-12">
				<div class="row">
					<div class="topic-main-container col-lg-12 col-xs-12">
						<div class="topic-title col-lg-12">QUICK STATISTICS</div>
						<div id="QuickStatContainer" class="col-lg-12">
							<div id="posts" class="col-md-3">
								<p id="postsCount">{{ quick_stats.tweets }}</p>
								<p id="postsLabel">POSTS</p>
							</div>
							<div id="users" class="col-md-6">
								<p id="usersCount">{{ quick_stats.users }}</p>
								<p id="usersLabel">USERS</p>
							</div>
							<div id="audience" class="col-md-6">
								<p id="audienceCount">{{ quick_stats.reach }}</p>
								<p id="audienceLabel">POTENTIAL AUDIENCE</p>
							</div>
							<div id="engagements" class="col-md-6">
								<p id="engagementsCount">{{ quick_stats.engagements }}</p>
								<p id="engagementsLabel">ENGAGEMENTS</p>
							</div>
							<div class="search-insight-container">
								<input type="text" id="quickStatisticsInsight" placeholder="Type insights here" class="search-insights-input">
							</div>
						</div>
					</div>
				</div>	
				<div class="row">
					<div class="topic-main-container timeline-topic-container col-lg-12">
						<div class="topic-title">TIMELINE</div>
						<div id="timelineContainer">
							{% include_chart_jscss %} 
							{% load_chart diag_chartdata.timeline.charttype diag_chartdata.timeline.chartdata diag_chartdata.timeline.chartcontainer diag_chartdata.timeline.extra %} 
							{% include_container diag_chartdata.timeline.chartcontainer 400 '100%' %}
							<div class="search-insight-container">
								<input type="text" id="timelineInsight" placeholder="Type insights here" class="search-insights-input">
							</div>
						</div>
					</div>
				</div>
				
				<div id="donut_chart_container" class="row">
					<div class="donut-chart-left col-lg-5">
						<div class="topic-title sources-title">SOURCES</div>
						{% load_chart diag_chartdata.source.charttype diag_chartdata.source.chartdata diag_chartdata.source.chartcontainer diag_chartdata.source.extra %}
						{% include_container diag_chartdata.source.chartcontainer 400 '100%' %}
						<div class="search-insight-container">
							<input type="text" id="sourcesInsight" placeholder="Type insights here" class="search-insights-input">
						</div>
					</div>
					<div class="donut-chart-right col-lg-5">
						<div class="topic-title composition-title">COMPOSITION</div>
						{% load_chart diag_chartdata.composition.charttype diag_chartdata.composition.chartdata diag_chartdata.composition.chartcontainer diag_chartdata.source.extra%} 
						{% include_container diag_chartdata.composition.chartcontainer 400 '100%' %}
						<div class="search-insight-container">
							<input type="text" id="compositionInsight" placeholder="Type insights here" class="search-insights-input">
						</div>
					</div>
				</div>
				
				<div class="topic-main-container location-topic-container">
					<div class="topic-title">LOCATIONS</div>
					<div id="map">

					</div>
					<div class="search-insight-container">
						<input type="text" id="locationsInsight" placeholder="Type insights here" class="search-insights-input">
					</div>
				</div>
			</div> 
		</div>
	</div>
<!-- Modals -->
{% include 'saveloadsnapshotmodal.html' %}
{% include 'loginmodal.html' %}
{% include 'notification.html' %}

{% include 'footer.html'%}
</body>
<script src="{% static 'js/dgn1.js' %}" type='text/javascript'></script>
</html>